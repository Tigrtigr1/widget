<html>

<head></head>

<body>
    <div>
        <form id='myForm1' method="post" enctype="multipart/form-data">
            <input type="file" name="my_file[]" multiple>
            <input type="submit" value="Upload">
        </form>
    </div>
    <div id='q'>q</div>
    <br>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://malsup.github.com/jquery.form.js"></script>
    <script>
        // prepare the form when the DOM is ready 
        $(document).ready(function () {
            var options = {
                target: 'q',   // target element(s) to be updated with server response 
                beforeSubmit: showRequest,  // pre-submit callback 
                success: showResponse,  // post-submit callback 
                url: "https://textomate.com/a/uploadMultiple"        // override for form's 'action' attribute
            };
            $('#myForm1').ajaxForm(options);
        });

        // pre-submit callback 
        function showRequest(formData, jqForm, options) {
            var queryString = $.param(formData);
            alert('About to submit: \n\n' + queryString);
            return true;
        }

        // post-submit callback 
        function showResponse(responseText, statusText, xhr, $form) {
            alert('status: ' + statusText + '\n\nresponseText: \n' + responseText +
                '\n\nThe output div should have already been updated with the responseText.');
        } 
    </script>

</body>

</html>
